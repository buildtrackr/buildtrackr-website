---
import { siteConfig } from '../config.ts';
import { Icon } from 'astro-icon/components';
---

<section
  id="pricing"
  class="border-mono-lighter bg-mono-lighter relative border-t-2 px-4 py-20 sm:px-6 lg:px-8"
>
  <div class="mx-auto max-w-7xl">
    <div class="scroll-fade-up mx-auto mb-16 max-w-3xl text-center">
      <h2 class="text-mono-black mb-4 text-4xl font-bold sm:text-5xl">
        {siteConfig.pricing.title}
      </h2>
      <p class="text-mono-dark text-xl">
        {siteConfig.pricing.subtitle}
      </p>
    </div>

    <div class="mx-auto grid max-w-6xl grid-cols-1 gap-8 md:grid-cols-3">
      {
        siteConfig.pricing.plans.map((plan, index) =>
          plan.featured ? (
            <div class="scroll-fade-up border-mono-black scale-105 transform rounded-xl border-4 p-8 shadow-2xl">
              <div class="bg-mono-black rounded-xl p-8">
                <div class="pulse-slow text-mono-black mb-4 inline-block rounded-full bg-white px-3 py-1 text-xs font-semibold">
                  {plan.badge}
                </div>
                <h3 class="mb-2 text-2xl font-bold text-white">{plan.name}</h3>
                <div class="mb-6">
                  <span class="text-4xl font-bold text-white">
                    {plan.price}
                  </span>
                  <span class="text-mono-light">{plan.period}</span>
                </div>
                <p class="text-mono-light mb-6">{plan.description}</p>
                <ul class="mb-8 space-y-4">
                  {plan.features.map((feature) => (
                    <li class="flex items-start">
                      <Icon
                        name="heroicons:check"
                        class="mt-0.5 mr-3 h-5 w-5 flex-shrink-0 text-white"
                      />
                      <span class="text-white">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a
                  href={plan.cta.href}
                  class="text-mono-black block w-full rounded-lg bg-white px-6 py-3 text-center font-semibold"
                >
                  {plan.cta.text}
                </a>
              </div>
            </div>
          ) : (
            <div
              class={`${index === 0 ? 'scroll-fade-left' : 'scroll-fade-right'} border-mono-lighter rounded-xl border-2 bg-white p-8`}
            >
              <h3 class="text-mono-black mb-2 text-2xl font-bold">
                {plan.name}
              </h3>
              <div class="mb-6">
                <span class="text-mono-black text-4xl font-bold">
                  {plan.price}
                </span>
                <span class="text-mono-gray">{plan.period}</span>
              </div>
              <p class="text-mono-dark mb-6">{plan.description}</p>
              <ul class="mb-8 space-y-4">
                {plan.features.map((feature) => (
                  <li class="flex items-start">
                    <Icon
                      name="heroicons:check"
                      class="text-mono-black mt-0.5 mr-3 h-5 w-5 flex-shrink-0"
                    />
                    <span class="text-mono-dark">{feature}</span>
                  </li>
                ))}
              </ul>
              <a
                href={plan.cta.href}
                class="border-mono-black text-mono-black block w-full rounded-lg border-2 bg-white px-6 py-3 text-center font-semibold"
              >
                {plan.cta.text}
              </a>
            </div>
          ),
        )
      }
    </div>
  </div>
</section>
